{"ast":null,"code":"var _jsxFileName = \"/Users/yediwang/spotify-example/src/components/Header/Header.jsx\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport axios from \"axios\"; // import PropTypes from \"prop-types\";\n\nimport avatar from '../../assets/img/avatar.png';\nimport search_icon from '../../assets/img/search.png';\nimport menu_icon from '../../assets/img/menu.png';\nimport { updateSearchResult } from '../../actions';\n\nvar Spotify = require('spotify-web-api-js');\n\nvar spotifyApi = new Spotify();\nspotifyApi.setAccessToken('BQCL2wd03snvyN-k5qb583ZfLjG7BnSwcEC7pthZh1v0-u7ttV33Pph_AAJh2hYfQEWH_mEWpVDSbzeyLY8');\n\nclass Header extends React.Component {\n  componentWillMount() {\n    this.getToken();\n  }\n\n  getToken() {\n    var myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'application/json'); // myHeaders.append('Authorization', 'Basic YzY2ZTY5MTcyY2JkNGQ0N2E2ZmVjZTcwMjJkYThmMTU6NDNlNmY4ZWE1ZjZmNGMxMGE5ZTBmOTZiMDBjMmQ2OTM=')\n\n    const myInit = {\n      method: 'GET',\n      headers: myHeaders,\n      mode: \"no-cors\" // const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n\n    };\n    const myRequest = new Request('https://accounts.spotify.com/authorize?client_id=72c3e22f5abc4944b8f2c1017ad1ac96&response_type=code&redirect_uri=https://www.google.com', myInit);\n    fetch(myRequest).then(response => console.log(response)); // var request = require('request');\n    // var authOptions = {\n    //   url: 'https://accounts.spotify.com/authorize?client_id=72c3e22f5abc4944b8f2c1017ad1ac96&response_type=code&redirect_uri=https://www.google.com',\n    //   mode: \"no-cors\",\n    // };\n    // request.get(authOptions, function(error, response, body) {\n    //   console.log(response)\n    // }.bind(this));\n  }\n\n  handleSearch(event) {\n    const search_value = event.target.value;\n    spotifyApi.searchTracks(search_value, {\n      limit: 8\n    }).then(function (data) {\n      let result = {\n        tracks_data: {\n          1: data\n        },\n        tracks_currentPage: 1\n      }; // console.log(data);\n\n      if (data.length === 0) {\n        result.result_flag = 0;\n        this.props.updateSearchResult(result);\n      } else {\n        result.result_flag = 1;\n        this.props.updateSearchResult(result);\n      }\n    }.bind(this), function (err) {\n      // console.log(err);\n      let result = {\n        tracks_data: '',\n        tracks_currentPage: 0\n      };\n\n      if (search_value === '') {\n        result.result_flag = 0;\n        this.props.updateSearchResult(result);\n      } else {\n        result.result_flag = 2;\n        this.props.updateSearchResult(result);\n      }\n    }.bind(this));\n  }\n\n  render() {\n    return React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"avatar\",\n      src: avatar,\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"search_icon\",\n      src: search_icon,\n      alt: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"search_input\",\n      type: \"text\",\n      name: \"spotify_search\",\n      placeholder: \"Search songs, artists...\",\n      onChange: event => this.handleSearch(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"helper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"header_item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Premium\"), React.createElement(\"span\", {\n      className: \"header_item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Help\"), React.createElement(\"span\", {\n      className: \"header_item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Download\"), React.createElement(\"img\", {\n      className: \"menu_icon\",\n      src: menu_icon,\n      alt: \"menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })));\n  }\n\n} // Header.propTypes = {\n//   classes: PropTypes.object.isRequired\n// }\n\n\nconst mapStateToProps = state => ({});\n\nconst mapDispatchToProps = dispatch => ({\n  updateSearchResult: result => dispatch(updateSearchResult(result))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/yediwang/spotify-example/src/components/Header/Header.jsx"],"names":["React","connect","axios","avatar","search_icon","menu_icon","updateSearchResult","Spotify","require","spotifyApi","setAccessToken","Header","Component","componentWillMount","getToken","myHeaders","Headers","append","myInit","method","headers","mode","myRequest","Request","fetch","then","response","console","log","handleSearch","event","search_value","target","value","searchTracks","limit","data","result","tracks_data","tracks_currentPage","length","result_flag","props","bind","err","render","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux'\nimport axios from \"axios\";\n// import PropTypes from \"prop-types\";\n\nimport avatar from '../../assets/img/avatar.png';\nimport search_icon from '../../assets/img/search.png';\nimport menu_icon from '../../assets/img/menu.png';\n\nimport { updateSearchResult } from '../../actions';\n\nvar Spotify = require('spotify-web-api-js');\nvar spotifyApi = new Spotify();\nspotifyApi.setAccessToken('BQCL2wd03snvyN-k5qb583ZfLjG7BnSwcEC7pthZh1v0-u7ttV33Pph_AAJh2hYfQEWH_mEWpVDSbzeyLY8');\n\nclass Header extends React.Component {\n\n  componentWillMount() {\n    this.getToken();\n  }\n\n  getToken() {\n    \n    var myHeaders = new Headers();\n    \n    myHeaders.append('Content-Type', 'application/json')\n    // myHeaders.append('Authorization', 'Basic YzY2ZTY5MTcyY2JkNGQ0N2E2ZmVjZTcwMjJkYThmMTU6NDNlNmY4ZWE1ZjZmNGMxMGE5ZTBmOTZiMDBjMmQ2OTM=')\n    \n    const myInit = {\n      method: 'GET',\n      headers: myHeaders,\n      mode: \"no-cors\",\n    }\n\n    // const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const myRequest = new Request('https://accounts.spotify.com/authorize?client_id=72c3e22f5abc4944b8f2c1017ad1ac96&response_type=code&redirect_uri=https://www.google.com', myInit)\n    \n    fetch(myRequest)\n    .then(response =>\n      console.log(response)\n    )\n   \n\n\n    // var request = require('request');\n    // var authOptions = {\n    //   url: 'https://accounts.spotify.com/authorize?client_id=72c3e22f5abc4944b8f2c1017ad1ac96&response_type=code&redirect_uri=https://www.google.com',\n    //   mode: \"no-cors\",\n    // };\n    // request.get(authOptions, function(error, response, body) {\n    //   console.log(response)\n    // }.bind(this));\n  }\n\n  handleSearch(event) {\n    const search_value = event.target.value;\n    spotifyApi.searchTracks(search_value, {limit: 8})\n    .then(\n      function(data) {\n        let result = {\n          tracks_data: {1: data},\n          tracks_currentPage: 1\n        };\n        // console.log(data);\n        if(data.length === 0) {\n          result.result_flag = 0;\n          this.props.updateSearchResult(result);\n        }\n        else {\n          result.result_flag = 1;\n          this.props.updateSearchResult(result);\n        }\n      }.bind(this),\n      function(err) {\n        // console.log(err);\n        let result = {\n          tracks_data: '',\n          tracks_currentPage: 0\n        };\n        if(search_value === '') {\n          result.result_flag = 0;\n          this.props.updateSearchResult(result);\n        }\n        else {\n          result.result_flag = 2;\n          this.props.updateSearchResult(result);\n        }\n      }.bind(this)\n    );\n  }\n\n  render() {\n    return (\n      <header>\n        <div>\n          <img className=\"avatar\" src={avatar} alt=\"avatar\" />\n          <img className=\"search_icon\" src={search_icon} alt=\"search\" />\n          <input className=\"search_input\" type=\"text\" name=\"spotify_search\" placeholder=\"Search songs, artists...\" onChange={event => this.handleSearch(event)}></input>\n        </div>\n        <div>\n          <span className=\"helper\" />\n          <span className=\"header_item\">Premium</span>\n          <span className=\"header_item\">Help</span>\n          <span className=\"header_item\">Download</span>\n          <img className=\"menu_icon\" src={menu_icon} alt=\"menu\" />\n        </div>\n      </header>\n    );\n  }\n}\n\n// Header.propTypes = {\n//   classes: PropTypes.object.isRequired\n// }\n\nconst mapStateToProps = state => ({\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateSearchResult: result => dispatch(updateSearchResult(result))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)"]},"metadata":{},"sourceType":"module"}